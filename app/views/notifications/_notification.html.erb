<% visitor = notification.visitor %>
<% visited = notification.visited %>
<div class="col-md-6.mx-auto">
    <div class="">
        <span>
            <% if visitor.image.blank? %>
            <%= link_to "/users/#{visitor.id}" do %>
            <%= image_tag '/default.png', class: "icon_image" %>
            <% end %>
            <% else %>
            <%= link_to "/users/#{visitor.id}" do %>
            <img src=<%= visitor.image %> class="icon_image">
            <% end %>
            <% end %>
            <%= link_to user_path(visitor) do %>
            <strong>
                <%= visitor.name %>
            </strong>
            <% end %>
            <%= 'さんが' %>
            <% case notification.action %>
            <% when 'follow' then %>
            <%= "あなたをフォローしました" %>
            <div class="small text-muted">
                <%= time_ago_in_words(notification.created_at).upcase %>前
                <hr>
            </div>
            <% when 'like' then %>
            <%= link_to 'あなたの投稿', notification.post, style: "font-weight: bold;" %>
            <%= "にいいねしました" %>
            <div class="small text-muted">
                <%= time_ago_in_words(notification.created_at).upcase %>前
            </div>
            <hr>
            <% when 'comment' then %>
            <% if notification.post.user_id == visited.id %>
            <%= link_to "あなたの投稿", notification.post, style: "font-weight: bold;" %>
            <%= "にコメントしました" %>
            <% else %>
            <span>
                あなたがコメントをした
                <% if notification.post.user.image.blank? %>
                <%= link_to "/users/#{notification.post.user.id}" do %>
                <%= image_tag '/default.png', class: "icon_image" %>
                <% end %>
                <% else %>
                <%= link_to "/users/#{notification.post.user.id}" do %>
                <img src=<%= notification.post.user.image %> class="icon_image">
                <% end %>
                <% end %>
                <%= link_to post_path(notification.post) do %>
                <strong>
                    <%= notification.post.user.name + 'さんの投稿' %>
                </strong>
                <% end %>
                <%= "にコメントしました" %>
            </span>
            <% end %>
            <div class="small text-muted">
                <%= time_ago_in_words(notification.created_at).upcase %>前
            </div>
        </span>
    </div>
    <hr>
</div>
<% end %>